"use strict";var _require=require("mongoose"),Schema=_require.Schema,model=_require.model,moment=require("moment"),reactionSchema=require("./Reaction"),ThoughtSchema=new Schema({thoughtText:{type:String,required:!0,minlength:1,maxlength:280},createdAt:{type:Date,default:Date.now,get:function(e){return moment(e).format("MMM DD, YYYY [at] hh:mm a")}},username:{type:String,required:!0,trim:!0},reactions:[reactionSchema]},{toJSON:{virtuals:!0,getters:!0},id:!1});ThoughtSchema.virtual("reactionCount").get(function(){return this.reactions.length}),ThoughtSchema.pre("findOneAndDelete",function(t){var r;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,e.next=3,regeneratorRuntime.awrap(Reaction.deleteMany({thoughtId:r._id}));case 3:t();case 4:case"end":return e.stop()}},null,this)});var Thought=model("Thought",ThoughtSchema);module.exports=Thought;
//# sourceMappingURL=Thought.min.js.map
